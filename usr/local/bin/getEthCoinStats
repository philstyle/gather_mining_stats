#!/bin/bash
OUT=/tmp/whattomine
TABLE=/tmp/priority_order
#curl --silent "https://whattomine.com/coins?utf8=%E2%9C%93&eth=true&factor%5Beth_hr%5D=86.0&factor%5Beth_p%5D=355&factor%5Bgro_hr%5D=92.3&factor%5Bgro_p%5D=410.0&factor%5Bx11g_hr%5D=29.7&factor%5Bx11g_p%5D=380.0&factor%5Bcn_hr%5D=1730.0&factor%5Bcn_p%5D=310.0&factor%5Beq_hr%5D=1130.0&factor%5Beq_p%5D=360.0&factor%5Blrev2_hr%5D=75900.0&factor%5Blrev2_p%5D=390.0&factor%5Bns_hr%5D=2100.0&factor%5Bns_p%5D=310.0&factor%5Blbry_hr%5D=655.0&factor%5Blbry_p%5D=415.0&factor%5Bbk2b_hr%5D=4350.0&factor%5Bbk2b_p%5D=450.0&factor%5Bbk14_hr%5D=6970.0&factor%5Bbk14_p%5D=440.0&factor%5Bpas_hr%5D=2580.0&factor%5Bpas_p%5D=375.0&bkv=true&factor%5Bbkv_hr%5D=0.0&factor%5Bbkv_p%5D=0.0&factor%5Bcost%5D=0.12&sort=Profitability24&volume=0&revenue=24h&factor%5Bexchanges%5D%5B%5D=&factor%5Bexchanges%5D%5B%5D=bittrex&dataset=Main&commit=Calculate&adapt_q_280x=0&adapt_q_380=0&adapt_q_fury=0&adapt_q_470=0&adapt_q_480=1&adapt_q_750Ti=0&adapt_q_10606=6&adapt_q_1070=2" | grep -v "adsbygoogle" | grep -v "colspan" | grep -v "inline" | grep -v "data-ad" > ${OUT}

#curl --silent "https://whattomine.com/coins?utf8=%E2%9C%93&eth=true&factor%5Beth_hr%5D=120&factor%5Beth_p%5D=800&grof=true&factor%5Bgro_hr%5D=92.3&factor%5Bgro_p%5D=260.0&factor%5Bx11g_hr%5D=29.7&factor%5Bx11g_p%5D=380.0&factor%5Bcn_hr%5D=1730.0&factor%5Bcn_p%5D=310.0&factor%5Beq_hr%5D=1130.0&factor%5Beq_p%5D=360.0&factor%5Blrev2_hr%5D=75900.0&factor%5Blrev2_p%5D=390.0&factor%5Bns_hr%5D=2100.0&factor%5Bns_p%5D=310.0&factor%5Blbry_hr%5D=655.0&factor%5Blbry_p%5D=415.0&factor%5Bbk2b_hr%5D=4350.0&factor%5Bbk2b_p%5D=450.0&factor%5Bbk14_hr%5D=6970.0&factor%5Bbk14_p%5D=440.0&factor%5Bpas_hr%5D=2580.0&factor%5Bpas_p%5D=375.0&bkv=true&factor%5Bbkv_hr%5D=0.0&factor%5Bbkv_p%5D=0.0&factor%5Bcost%5D=0.11&sort=Profitability24&volume=0&revenue=24h&factor%5Bexchanges%5D%5B%5D=&factor%5Bexchanges%5D%5B%5D=bittrex&dataset=Main&commit=Calculate&adapt_q_280x=0&adapt_q_380=0&adapt_q_fury=0&adapt_q_470=0&adapt_q_480=1&adapt_q_750Ti=0&adapt_q_10606=6&adapt_q_1070=2" | grep -v "adsbygoogle" | grep -v "colspan" | grep -v "inline" | grep -v "data-ad" > ${OUT}

curl --silent "https://whattomine.com/coins?utf8=%E2%9C%93&eth=true&factor%5Beth_hr%5D=144.5&factor%5Beth_p%5D=990.0&grof=true&factor%5Bgro_hr%5D=92.3&factor%5Bgro_p%5D=260.0&factor%5Bx11g_hr%5D=29.7&factor%5Bx11g_p%5D=380.0&factor%5Bcn_hr%5D=1730.0&factor%5Bcn_p%5D=310.0&factor%5Beq_hr%5D=1130.0&factor%5Beq_p%5D=360.0&factor%5Blrev2_hr%5D=75900.0&factor%5Blrev2_p%5D=390.0&factor%5Bns_hr%5D=2100.0&factor%5Bns_p%5D=310.0&factor%5Blbry_hr%5D=655.0&factor%5Blbry_p%5D=415.0&factor%5Bbk2b_hr%5D=4350.0&factor%5Bbk2b_p%5D=450.0&factor%5Bbk14_hr%5D=6970.0&factor%5Bbk14_p%5D=440.0&factor%5Bpas_hr%5D=2580.0&factor%5Bpas_p%5D=375.0&bkv=true&factor%5Bbkv_hr%5D=0.0&factor%5Bbkv_p%5D=0.0&factor%5Bcost%5D=0.11&sort=Profitability24&volume=0&revenue=24h&factor%5Bexchanges%5D%5B%5D=&factor%5Bexchanges%5D%5B%5D=bittrex&dataset=Main&commit=Calculate&adapt_q_280x=0&adapt_q_380=0&adapt_q_fury=0&adapt_q_470=0&adapt_q_480=1&adapt_q_750Ti=0&adapt_q_10606=6&adapt_q_1070=2" | grep -v "adsbygoogle" | grep -v "colspan" | grep -v "inline" | grep -v "data-ad" > ${OUT}

STARTLINE=`grep -n "table-hover" ${OUT} | awk -F':' '{print $1}'`
ENDLINE=`grep -n "Last update" ${OUT} | awk -F':' '{print $1}'`
tail -n+${STARTLINE} ${OUT} | head -n$((ENDLINE-STARTLINE)) > ${TABLE}
